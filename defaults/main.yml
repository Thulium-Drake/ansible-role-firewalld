---
# yamllint disable rule:line-length
# Allowed services, defaults come from a RHEL8 installation
firewalld_services:
  - 'cockpit'
  - 'dhcpv6-client'
  - 'ssh'  # Also hardcoded by this role to prevent lockouts

# Allowed non-service ports
firewalld_ports: []
#  - '443/tcp'
#  - '161-162/udp'

firewalld_rich_rules: []
# - 'rule family=ipv4 forward-port port=443 protocol=tcp to-port=8443'

# Clear out any opened ports and/or services that are not defined by this role
firewalld_prune_unknown: true

# Firewall zone configuration structure
# The default configuration is combined from the config items above, but you
# can have Ansible compose a similar structure with the following lookup:
#
# firewalld_zones: "{{ lookup('community.general.merge_variables', '_firewalld_zones__to_merge', pattern_type='suffix') | dict2items(key_name='zone', value_name='config') }}"
#
# You can find an example of this setup in molecule/default/converge.yml
firewalld_zones:
  - zone: 'public'
    config:
      services: "{{ firewalld_services }}"
      ports: "{{ firewalld_ports }}"
      rich_rules: "{{ firewalld_rich_rules }}"
      interfaces:
        - "{{ ansible_facts['default_ipv4']['interface'] }}"
